<script src="sub-component.js"></script>
<script>
(function() {
  'use strict';
  customElements.define('outer-component', class extends HTMLElement {
    constructor() {
      console.log('Subcomponent test: NORMAL');
      super(); // always always
      console.log('outer-el `constructor` called');
      let shadowRoot = this.attachShadow({mode: 'open'});
      shadowRoot.innerHTML = `
        <style>
          :host div { background-color: var(--background-color, white); color: var(--color, black); }
          outer-component div { background-color: var(--background-color, white); color: var(--color, black); }
        </style>
        <div id="outer-component__div">
          <sub-component></sub-component>
        </div>
      `;
      let htmlSub = shadowRoot.querySelector('sub-component');
      htmlSub.isCool = true;
      console.log(htmlSub.isCool);
    }
    connectedCallback() {
      console.log('outer-el `connectedCallback` called');
      // let sub = this.shadowRoot.querySelector('sub-component');
    }
  });
}());
</script>
